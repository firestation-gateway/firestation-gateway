
# RPI-IO-Board
#
#   Name | Line 
#    E1  |  27
#    E2  |  23
#    E3  |  25
#    E4  |   6
#    E5  |  17
#    E6  |  22
#    E7  |  24
#    E8  |   5
#    A1  |  19
#    A2  |  20
#

producers:
  - name: Genius
    type: genius
    params:
      line: -1
    events:
      idle: ~
      selftest: ~
      alarm: ~

  - name: Eingang1
    type: generic-input
    params:
      # GPIO line number. (The value -1 simulates input via a file in the file system.)
      line: 27
      # GPIO line bias, can be "default", "pull_up", "pull_down", or "disable".
      bias: "default"
      # GPIO is active low (default: true)
      active_low: true
      # GPIO debounce time (default: 500; unit ms)
      time_debounce: 500
      # Send alarm event when the input is active for longer than this time 
      time_alarm: 2000

    events:
    # This module sends the "alarm" event when the input is active for longer 
    # than the time value and "idle" event when the input becomes inactive afterwards.
      alarm: ~
      idle: ~

  - name: Eingang2
    type: generic-input
    params:
      line: 23
      bias: "default"
      active_low: true
      time_debounce: 500
      time_alarm: 2000
    events:
      alarm: ~
      idle: ~

  - name: Eingang3
    type: generic-input
    params:
      line: 25
      bias: "default"
      active_low: true
      time_debounce: 500
      time_alarm: 2000
    events:
      alarm: ~
      idle: ~

  - name: Eingang4
    type: generic-input
    params:
      line: 6
      bias: "default"
      active_low: true
      time_debounce: 500
      time_alarm: 2000
    events:
      alarm: ~
      idle: ~

  - name: Eingang5
    type: generic-input
    params:
      line: 17
      bias: "default"
      active_low: true
      time_debounce: 500
      time_alarm: 2000
    events:
      alarm: ~
      idle: ~

  - name: Eingang6
    type: generic-input
    params:
      line: 22
      bias: "default"
      active_low: true
      time_debounce: 500
      time_alarm: 2000
    events:
      alarm: ~
      idle: ~

  - name: Eingang7
    type: generic-input
    params:
      line: 24
      bias: "default"
      active_low: true
      time_debounce: 500
      time_alarm: 2000
    events:
      alarm: ~
      idle: ~

  - name: Eingang8
    type: generic-input
    params:
      line: 5
      bias: "default"
      active_low: true
      time_debounce: 500
      time_alarm: 2000
    events:
      alarm: ~
      idle: ~

# Event names consist of the producer name and the producer's event.
# Example: producer 'generic-input' name: "Input_BMA"
#           event => Input_BMA_alarm
# 
consumers:
  - name: Ausgang1
    # This consumer-type sets an output when an event occurs.
    type: generic-output
    params:
      line: 19
      # default output value after start (off: 0 / on: 1)
      default_value: 0
    events:
      Eingang1_alarm:
        enabled: true
        value: 1
      Eingang1_idle:
        enabled: true
        value: 0

  - name: Ausgang2
    type: generic-output
    params:
      line: 20
      # default output value after start (off: 0 / on: 1)
      default_value: 0
    events:
      Eingang1_alarm:
        enabled: true
        value: 1
      Eingang1_idle:
        enabled: true
        value: 0

  - name: Log Ausgabe
    # This consumer-type only prints event.
    type: generic-printout
    params:
    events:
      Eingang1_alarm:
        enabled: true
      Eingang1_idle:
        enabled: true

  - name: Tetracontrol
    # The tetracontrol type send an callout or normal message over Tetracontrol.
    type: tetracontrol
    params:
      # When test mode is active, no alarm is sent. Ideal for testing. 
      testmode: true
      # Token for tetracontrol server
      token: "XYZ"
      # tetracontrol server url. e.g. http://192.168.0.123:8080
      # Warning: https:// connetion isn't tested. Please use this with care.
      url: "http://"
    events:
      Eingang1_alarm:
        enabled: true
        # type: callout or normal
        type: callout
        # dest: issi
        dest: 0000000
        # text: free text (hint: write "&123" in front for sub addresses)
        # e.g.: text: "&63F-RWM Fwh Treis*Weiherstr. 6"
        text: "F-RWM Fwh Musterstadt*Hauptstr. 112"
      Eingang1_idle:
        enabled: true
        type: normal
        dest: 0000000
        text: "Ruhe RWM Fwh Musterstadt"

  - name: Connect
    # The connect type send an opperation to the connect interface.
    type: connect
    params:
      token: "ABC"
      testmode: true
      url: "https://connectapi.feuersoftware.com"
    events:
      Eingang1_alarm:
        enabled: true
        ric: "0000000"
        keyword: "F-RWM"
        facts: "Meldereingang"
        source: "Pi Fwh Musterstadt"
        address:
          street: "Hauptstr."
          housenumber: "112"
          zipcode: "112112"
          city: "Musterstadt"